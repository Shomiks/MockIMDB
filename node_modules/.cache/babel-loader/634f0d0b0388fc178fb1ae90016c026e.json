{"ast":null,"code":"import axios from 'axios';\nimport { useEffect, useState } from 'react';\nconst apiKey = 'k_f1xb5k3v';\nexport async function singleMovieData(id) {\n  const movie = await axios(`https://5fe8885b2e12ee0017ab47c0.mockapi.io/api/v1/movies/${id}`);\n  const comments = await axios(`https://5fe8885b2e12ee0017ab47c0.mockapi.io/api/v1/movies/${id}/comments`);\n  const trailer = await axios(`https://imdb-api.com/API/YouTubeTrailer/${apiKey}/${movie.data.imdbId}`);\n  return {\n    movie,\n    comments,\n    trailer\n  };\n}\nexport const useMoviesApi = () => {\n  const [movies, setMovies] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchMovies = async () => {\n      const categories = await axios(\"http://localhost:5000/api/categories\");\n      const movies = await axios(\"https://5fe8885b2e12ee0017ab47c0.mockapi.io/api/v1/movies\");\n      setCategories(categories.data);\n      setMovies(movies.data);\n    };\n\n    fetchMovies().then(() => setLoading(false));\n  }, []);\n  return {\n    movies,\n    categories,\n    loading\n  };\n};","map":{"version":3,"sources":["/Users/milosdjurkovic/MockIMDB/src/Component/Home page/Movies/useMoviesApi.js"],"names":["axios","useEffect","useState","apiKey","singleMovieData","id","movie","comments","trailer","data","imdbId","useMoviesApi","movies","setMovies","categories","setCategories","loading","setLoading","fetchMovies","then"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAmC,OAAnC;AAEA,MAAMC,MAAM,GAAG,YAAf;AAEA,OAAO,eAAeC,eAAf,CAA+BC,EAA/B,EAAmC;AACtC,QAAMC,KAAK,GAAG,MAAMN,KAAK,CAAE,6DAA4DK,EAAG,EAAjE,CAAzB;AACA,QAAME,QAAQ,GAAG,MAAMP,KAAK,CAAE,6DAA4DK,EAAG,WAAjE,CAA5B;AACA,QAAMG,OAAO,GAAG,MAAMR,KAAK,CAAE,2CAA0CG,MAAO,IAAGG,KAAK,CAACG,IAAN,CAAWC,MAAO,EAAxE,CAA3B;AAEA,SAAO;AACHJ,IAAAA,KADG;AAEHC,IAAAA,QAFG;AAGHC,IAAAA;AAHG,GAAP;AAKH;AAED,OAAO,MAAMG,YAAY,GAAG,MAAM;AAC9B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACY,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,IAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMiB,WAAW,GAAG,YAAY;AAC5B,YAAMJ,UAAU,GAAG,MAAMd,KAAK,CAAC,sCAAD,CAA9B;AACA,YAAMY,MAAM,GAAG,MAAMZ,KAAK,CAAC,2DAAD,CAA1B;AACAe,MAAAA,aAAa,CAACD,UAAU,CAACL,IAAZ,CAAb;AACAI,MAAAA,SAAS,CAACD,MAAM,CAACH,IAAR,CAAT;AACH,KALD;;AAMAS,IAAAA,WAAW,GAAGC,IAAd,CAAmB,MAAMF,UAAU,CAAC,KAAD,CAAnC;AACH,GARQ,EAQN,EARM,CAAT;AAUA,SAAO;AACHL,IAAAA,MADG;AAEHE,IAAAA,UAFG;AAGHE,IAAAA;AAHG,GAAP;AAKH,CApBM","sourcesContent":["import axios from 'axios';\nimport { useEffect, useState} from 'react';\n\nconst apiKey = 'k_f1xb5k3v';\n\nexport async function singleMovieData(id) {\n    const movie = await axios(`https://5fe8885b2e12ee0017ab47c0.mockapi.io/api/v1/movies/${id}`);\n    const comments = await axios(`https://5fe8885b2e12ee0017ab47c0.mockapi.io/api/v1/movies/${id}/comments`);\n    const trailer = await axios(`https://imdb-api.com/API/YouTubeTrailer/${apiKey}/${movie.data.imdbId}`);\n\n    return {\n        movie,\n        comments,\n        trailer\n    };\n}\n\nexport const useMoviesApi = () => {\n    const [movies, setMovies] = useState([]);\n    const [categories, setCategories] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchMovies = async () => {\n            const categories = await axios(\"http://localhost:5000/api/categories\");\n            const movies = await axios(\"https://5fe8885b2e12ee0017ab47c0.mockapi.io/api/v1/movies\");\n            setCategories(categories.data);\n            setMovies(movies.data);\n        };\n        fetchMovies().then(() => setLoading(false));\n    }, []);\n\n    return {\n        movies,\n        categories,\n        loading\n    };\n};"]},"metadata":{},"sourceType":"module"}