{"ast":null,"code":"import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nconst apiKey = \"k_f1xb5k3v\";\nexport async function singleMovieData(id) {\n  const {\n    user\n  } = useAuth0();\n  const movie = await axios(`http://localhost:5000/api/movies/${id}`);\n  const comments = await axios(`http://localhost:5000/api/comments?movieId=${id}`);\n  const trailer = await axios(`https://imdb-api.com/API/YouTubeTrailer/${apiKey}/${movie.data.imdbId}`);\n  const users = await axios.put(`http://localhost:5000/api/users?id=${user.nickname}`);\n  return {\n    movie,\n    comments,\n    trailer,\n    users\n  };\n}\nexport const useMoviesApi = () => {\n  const [movies, setMovies] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchMovies = async () => {\n      const categories = await axios(\"http://localhost:5000/api/categories\");\n      const movies = await axios(\"http://localhost:5000/api/movies\");\n      setCategories(categories.data);\n      setMovies(movies.data);\n    };\n\n    fetchMovies().then(() => setLoading(false));\n  }, []);\n  return {\n    movies,\n    categories,\n    loading\n  };\n};","map":{"version":3,"sources":["/Users/milosdjurkovic/MockIMDB/src/Component/Home page/Movies/useMoviesApi.js"],"names":["axios","useEffect","useState","useAuth0","apiKey","singleMovieData","id","user","movie","comments","trailer","data","imdbId","users","put","nickname","useMoviesApi","movies","setMovies","categories","setCategories","loading","setLoading","fetchMovies","then"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,oBAAzB;AAEA,MAAMC,MAAM,GAAG,YAAf;AAEA,OAAO,eAAeC,eAAf,CAA+BC,EAA/B,EAAmC;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAWJ,QAAQ,EAAzB;AACA,QAAMK,KAAK,GAAG,MAAMR,KAAK,CAAE,oCAAmCM,EAAG,EAAxC,CAAzB;AACA,QAAMG,QAAQ,GAAG,MAAMT,KAAK,CACzB,8CAA6CM,EAAG,EADvB,CAA5B;AAGA,QAAMI,OAAO,GAAG,MAAMV,KAAK,CACxB,2CAA0CI,MAAO,IAAGI,KAAK,CAACG,IAAN,CAAWC,MAAO,EAD9C,CAA3B;AAGA,QAAMC,KAAK,GAAG,MAAMb,KAAK,CAACc,GAAN,CACjB,sCAAqCP,IAAI,CAACQ,QAAS,EADlC,CAApB;AAIA,SAAO;AACLP,IAAAA,KADK;AAELC,IAAAA,QAFK;AAGLC,IAAAA,OAHK;AAILG,IAAAA;AAJK,GAAP;AAMD;AAED,OAAO,MAAMG,YAAY,GAAG,MAAM;AAChC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACiB,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACmB,OAAD,EAAUC,UAAV,IAAwBpB,QAAQ,CAAC,IAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMsB,WAAW,GAAG,YAAY;AAC9B,YAAMJ,UAAU,GAAG,MAAMnB,KAAK,CAAC,sCAAD,CAA9B;AACA,YAAMiB,MAAM,GAAG,MAAMjB,KAAK,CAAC,kCAAD,CAA1B;AACAoB,MAAAA,aAAa,CAACD,UAAU,CAACR,IAAZ,CAAb;AACAO,MAAAA,SAAS,CAACD,MAAM,CAACN,IAAR,CAAT;AACD,KALD;;AAMAY,IAAAA,WAAW,GAAGC,IAAd,CAAmB,MAAMF,UAAU,CAAC,KAAD,CAAnC;AACD,GARQ,EAQN,EARM,CAAT;AAUA,SAAO;AACLL,IAAAA,MADK;AAELE,IAAAA,UAFK;AAGLE,IAAAA;AAHK,GAAP;AAKD,CApBM","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst apiKey = \"k_f1xb5k3v\";\n\nexport async function singleMovieData(id) {\n  const { user } = useAuth0();\n  const movie = await axios(`http://localhost:5000/api/movies/${id}`);\n  const comments = await axios(\n    `http://localhost:5000/api/comments?movieId=${id}`\n  );\n  const trailer = await axios(\n    `https://imdb-api.com/API/YouTubeTrailer/${apiKey}/${movie.data.imdbId}`\n  );\n  const users = await axios.put(\n    `http://localhost:5000/api/users?id=${user.nickname}`\n  );\n\n  return {\n    movie,\n    comments,\n    trailer,\n    users\n  };\n}\n\nexport const useMoviesApi = () => {\n  const [movies, setMovies] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      const categories = await axios(\"http://localhost:5000/api/categories\");\n      const movies = await axios(\"http://localhost:5000/api/movies\");\n      setCategories(categories.data);\n      setMovies(movies.data);\n    };\n    fetchMovies().then(() => setLoading(false));\n  }, []);\n\n  return {\n    movies,\n    categories,\n    loading,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}