{"ast":null,"code":"var _jsxFileName = \"/Users/milosdjurkovic/MockIMDB/src/Component/Movie page/Single movie/index.js\";\nimport React, { createContext, useEffect, useState } from \"react\";\nimport PageLoader from \"../../../lib/Loader\";\nimport { Typography } from \"@material-ui/core\";\nimport { useSingleMovie } from \"./useSingleMovie\";\nimport Comments from \"./Comments\";\nimport { Link } from \"react-router-dom\";\nimport { SingleMovieContainer, Description, Trailer, MediaContainer, Image, Edit, DeleteIcon, MovieTitleContainer, MovieTitle, Cancel } from \"./singleMovieStyles\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nexport const CommentsContext = createContext(undefined);\n\nconst SingeMovie = () => {\n  const {\n    movie,\n    loading,\n    setMovie,\n    deleteMovie,\n    editMovie\n  } = useSingleMovie();\n  const [edit, setEdit] = useState(false);\n  const [movieTitle, setMovieTitle] = useState();\n\n  const handleTitleInputChange = e => setMovieTitle(e.target.value);\n\n  const handleCancel = () => {\n    setMovieTitle(movie.name);\n    setEdit(false);\n  };\n\n  const handleEdit = () => {\n    editMovie({ ...movie,\n      name: movieTitle\n    });\n  };\n\n  useEffect(() => {\n    setMovieTitle(movie.name);\n  }, [movie.name]);\n  return loading ? /*#__PURE__*/React.createElement(PageLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(SingleMovieContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, edit ? /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Cancel edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Cancel, {\n    color: \"primary\",\n    onClick: handleCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    onClick: () => deleteMovie(movie.id).then(() => alert(\"you have deleted movie successfully\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Delete movie\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Edit, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, edit ? /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Confirm edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ThumbUpIcon, {\n    onClick: () => setEdit(false),\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Edit title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(EditIcon, {\n    onClick: () => setEdit(true),\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(MovieTitleContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, edit ? /*#__PURE__*/React.createElement(MovieTitle, {\n    variant: \"outlined\",\n    value: movieTitle,\n    required: true,\n    onChange: e => handleTitleInputChange(e),\n    inputProps: {\n      min: 0,\n      style: {\n        textAlign: \"center\",\n        padding: \"15px 20px\",\n        fontSize: \"30px\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, movieTitle)), /*#__PURE__*/React.createElement(MediaContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: movie.imageUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Trailer, {\n    src: `https://www.youtube.com/embed/${movie.videoId}`,\n    \"ng-show\": \"showvideo\",\n    allowFullScreen: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Description, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, movie.description), /*#__PURE__*/React.createElement(CommentsContext.Provider, {\n    value: [movie, setMovie],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Comments, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default SingeMovie;","map":{"version":3,"sources":["/Users/milosdjurkovic/MockIMDB/src/Component/Movie page/Single movie/index.js"],"names":["React","createContext","useEffect","useState","PageLoader","Typography","useSingleMovie","Comments","Link","SingleMovieContainer","Description","Trailer","MediaContainer","Image","Edit","DeleteIcon","MovieTitleContainer","MovieTitle","Cancel","EditIcon","ThumbUpIcon","Tooltip","CommentsContext","undefined","SingeMovie","movie","loading","setMovie","deleteMovie","editMovie","edit","setEdit","movieTitle","setMovieTitle","handleTitleInputChange","e","target","value","handleCancel","name","handleEdit","id","then","alert","min","style","textAlign","padding","fontSize","imageUrl","videoId","description"],"mappings":"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","sourcesContent":["import React, { createContext, useEffect, useState } from \"react\";\nimport PageLoader from \"../../../lib/Loader\";\nimport { Typography } from \"@material-ui/core\";\nimport { useSingleMovie } from \"./useSingleMovie\";\nimport Comments from \"./Comments\";\nimport { Link } from \"react-router-dom\";\nimport {\n  SingleMovieContainer,\n  Description,\n  Trailer,\n  MediaContainer,\n  Image,\n  Edit,\n  DeleteIcon,\n  MovieTitleContainer,\n  MovieTitle,\n  Cancel,\n} from \"./singleMovieStyles\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nexport const CommentsContext = createContext(undefined);\n\nconst SingeMovie = () => {\n  const { movie, loading, setMovie, deleteMovie, editMovie } = useSingleMovie();\n  const [edit, setEdit] = useState(false);\n  const [movieTitle, setMovieTitle] = useState();\n  const handleTitleInputChange = (e) => setMovieTitle(e.target.value);\n  const handleCancel = () => {\n    setMovieTitle(movie.name);\n    setEdit(false);\n  };\n  const handleEdit = () => {\n      editMovie({...movie, name: movieTitle})\n  }\n\n  useEffect(() => {\n    setMovieTitle(movie.name);\n  }, [movie.name]);\n\n  return loading ? (\n    <PageLoader />\n  ) : (\n    <SingleMovieContainer>\n      {edit ? (\n        <Tooltip title=\"Cancel edit\">\n          <Cancel color=\"primary\" onClick={handleCancel} />\n        </Tooltip>\n      ) : (\n        <Link\n          to=\"/\"\n          onClick={() =>\n            deleteMovie(movie.id).then(() =>\n              alert(\"you have deleted movie successfully\")\n            )\n          }\n        >\n          <Tooltip title=\"Delete movie\">\n            <DeleteIcon color=\"secondary\" />\n          </Tooltip>\n        </Link>\n      )}\n      <Edit>\n        {edit ? (\n          <Tooltip title=\"Confirm edit\">\n            <ThumbUpIcon onClick={() => setEdit(false)} color=\"primary\" />\n          </Tooltip>\n        ) : (\n          <Tooltip title=\"Edit title\">\n            <EditIcon onClick={() => setEdit(true)} color=\"primary\" />\n          </Tooltip>\n        )}\n      </Edit>\n      <MovieTitleContainer>\n        {edit ? (\n          <MovieTitle\n            variant=\"outlined\"\n            value={movieTitle}\n            required={true}\n            onChange={(e) => handleTitleInputChange(e)}\n            inputProps={{\n              min: 0,\n              style: {\n                textAlign: \"center\",\n                padding: \"15px 20px\",\n                fontSize: \"30px\",\n              },\n            }}\n          />\n        ) : (\n          <Typography variant=\"h4\" align=\"center\">\n            {movieTitle}\n          </Typography>\n        )}\n      </MovieTitleContainer>\n\n      <MediaContainer>\n        <Image src={movie.imageUrl} />\n        <Trailer\n          src={`https://www.youtube.com/embed/${movie.videoId}`}\n          ng-show=\"showvideo\"\n          allowFullScreen\n        />\n      </MediaContainer>\n      <Description>{movie.description}</Description>\n      <CommentsContext.Provider value={[movie, setMovie]}>\n        <Comments />\n      </CommentsContext.Provider>\n    </SingleMovieContainer>\n  );\n};\n\nexport default SingeMovie;\n"]},"metadata":{},"sourceType":"module"}