{"ast":null,"code":"import { useContext, useEffect, useState } from \"react\";\nimport { __RouterContext as RouterContext } from \"react-router\";\nimport { singleMovieData } from \"../../Home page/Movies/useMoviesApi\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport axios from \"axios\";\nexport const useSingleMovie = () => {\n  const useRouter = () => useContext(RouterContext);\n\n  const {\n    match\n  } = useRouter();\n  const movieId = match.params.id;\n  const {\n    user\n  } = useAuth0();\n  const [movie, setMovie] = useState({});\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchMovie = async () => {\n      const {\n        movie,\n        comments,\n        trailer\n      } = await singleMovieData(movieId, user === null || user === void 0 ? void 0 : user.nickname).then(() => setMovie({ ...movie.data,\n        ...trailer.data,\n        comments: comments.data\n      }));\n    };\n\n    fetchMovie().then(() => setLoading(false));\n  }, [setMovie, movieId]);\n\n  const deleteMovie = async id => {\n    return axios.delete(`http://localhost:5000/api/movies/${id}`);\n  };\n\n  return {\n    movie,\n    loading,\n    setMovie,\n    deleteMovie\n  };\n};","map":{"version":3,"sources":["/Users/milosdjurkovic/MockIMDB/src/Component/Movie page/Single movie/useSingleMovie.js"],"names":["useContext","useEffect","useState","__RouterContext","RouterContext","singleMovieData","useAuth0","axios","useSingleMovie","useRouter","match","movieId","params","id","user","movie","setMovie","loading","setLoading","fetchMovie","comments","trailer","nickname","then","data","deleteMovie","delete"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,SAArB,EAAgCC,QAAhC,QAAgD,OAAhD;AACA,SAASC,eAAe,IAAIC,aAA5B,QAAiD,cAAjD;AACA,SAASC,eAAT,QAAgC,qCAAhC;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAClC,QAAMC,SAAS,GAAG,MAAMT,UAAU,CAACI,aAAD,CAAlC;;AACA,QAAM;AAAEM,IAAAA;AAAF,MAAYD,SAAS,EAA3B;AACA,QAAME,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAaC,EAA7B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAWR,QAAQ,EAAzB;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACe,OAAD,EAAUC,UAAV,IAAwBhB,QAAQ,CAAC,IAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMkB,UAAU,GAAG,YAAY;AAC7B,YAAM;AAAEJ,QAAAA,KAAF;AAASK,QAAAA,QAAT;AAAmBC,QAAAA;AAAnB,UAA+B,MAAMhB,eAAe,CACxDM,OADwD,EAExDG,IAFwD,aAExDA,IAFwD,uBAExDA,IAAI,CAAEQ,QAFkD,CAAf,CAGzCC,IAHyC,CAGpC,MAAMP,QAAQ,CAAC,EAAE,GAAGD,KAAK,CAACS,IAAX;AAAiB,WAAGH,OAAO,CAACG,IAA5B;AAAkCJ,QAAAA,QAAQ,EAAEA,QAAQ,CAACI;AAArD,OAAD,CAHsB,CAA3C;AAID,KALD;;AAMAL,IAAAA,UAAU,GAAGI,IAAb,CAAkB,MAAML,UAAU,CAAC,KAAD,CAAlC;AACD,GARQ,EAQN,CAACF,QAAD,EAAWL,OAAX,CARM,CAAT;;AAUA,QAAMc,WAAW,GAAG,MAAMZ,EAAN,IAAa;AAC/B,WAAON,KAAK,CAACmB,MAAN,CAAc,oCAAmCb,EAAG,EAApD,CAAP;AACD,GAFD;;AAIA,SAAO;AACLE,IAAAA,KADK;AAELE,IAAAA,OAFK;AAGLD,IAAAA,QAHK;AAILS,IAAAA;AAJK,GAAP;AAMD,CA5BM","sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { __RouterContext as RouterContext } from \"react-router\";\nimport { singleMovieData } from \"../../Home page/Movies/useMoviesApi\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport axios from \"axios\";\n\nexport const useSingleMovie = () => {\n  const useRouter = () => useContext(RouterContext);\n  const { match } = useRouter();\n  const movieId = match.params.id;\n  const { user } = useAuth0();\n  const [movie, setMovie] = useState({});\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      const { movie, comments, trailer } = await singleMovieData(\n        movieId,\n        user?.nickname\n      ).then(() => setMovie({ ...movie.data, ...trailer.data, comments: comments.data }))\n    };\n    fetchMovie().then(() => setLoading(false));\n  }, [setMovie, movieId]);\n\n  const deleteMovie = async(id) => {\n    return axios.delete(`http://localhost:5000/api/movies/${id}`);\n  }\n\n  return {\n    movie,\n    loading,\n    setMovie,\n    deleteMovie\n  };\n};\n"]},"metadata":{},"sourceType":"module"}