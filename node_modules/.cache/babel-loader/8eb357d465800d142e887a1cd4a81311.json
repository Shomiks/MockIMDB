{"ast":null,"code":"import { useContext, useEffect, useState } from 'react';\nimport { __RouterContext as RouterContext } from 'react-router';\nimport { singleMovieData } from '../../Home page/Movies/useMoviesApi';\nexport const useSingleMovie = () => {\n  const useRouter = () => useContext(RouterContext);\n\n  const {\n    match\n  } = useRouter();\n  const movieId = match.params.id;\n  const [movie, setMovie] = useState({});\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchMovie = async () => {\n      const {\n        movie,\n        comments,\n        trailer\n      } = await singleMovieData(movieId);\n      setMovie({ ...movie.data,\n        ...trailer.data,\n        comments: comments.data\n      });\n    };\n\n    fetchMovie().then(() => setLoading(false));\n  }, [setMovie, movieId]);\n  return {\n    movie,\n    loading,\n    setMovie\n  };\n};","map":{"version":3,"sources":["/Users/milosdjurkovic/MockIMDB/src/Component/Movie page/Single movie/useSingleMovie.js"],"names":["useContext","useEffect","useState","__RouterContext","RouterContext","singleMovieData","useSingleMovie","useRouter","match","movieId","params","id","movie","setMovie","loading","setLoading","fetchMovie","comments","trailer","data","then"],"mappings":"AAAA,SAAQA,UAAR,EAAoBC,SAApB,EAA+BC,QAA/B,QAA8C,OAA9C;AACA,SAAQC,eAAe,IAAIC,aAA3B,QAA+C,cAA/C;AACA,SAAQC,eAAR,QAA8B,qCAA9B;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAEhC,QAAMC,SAAS,GAAG,MAAMP,UAAU,CAACI,aAAD,CAAlC;;AACA,QAAM;AAACI,IAAAA;AAAD,MAAUD,SAAS,EAAzB;AACA,QAAME,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAaC,EAA7B;AAEA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMe,UAAU,GAAG,YAAY;AAC3B,YAAM;AAACJ,QAAAA,KAAD;AAAQK,QAAAA,QAAR;AAAkBC,QAAAA;AAAlB,UAA6B,MAAOb,eAAe,CAACI,OAAD,CAAzD;AACAI,MAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAK,CAACO,IAAV;AAAgB,WAAGD,OAAO,CAACC,IAA3B;AAAiCF,QAAAA,QAAQ,EAAEA,QAAQ,CAACE;AAApD,OAAD,CAAR;AACH,KAHD;;AAIAH,IAAAA,UAAU,GAAGI,IAAb,CAAkB,MAAML,UAAU,CAAC,KAAD,CAAlC;AACH,GANQ,EAMN,CAACF,QAAD,EAAWJ,OAAX,CANM,CAAT;AAQA,SAAO;AACHG,IAAAA,KADG;AAEHE,IAAAA,OAFG;AAGHD,IAAAA;AAHG,GAAP;AAKH,CAtBM","sourcesContent":["import {useContext, useEffect, useState} from 'react';\r\nimport {__RouterContext as RouterContext} from 'react-router';\r\nimport {singleMovieData} from '../../Home page/Movies/useMoviesApi';\r\n\r\nexport const useSingleMovie = () => {\r\n\r\n    const useRouter = () => useContext(RouterContext);\r\n    const {match} = useRouter();\r\n    const movieId = match.params.id;\r\n\r\n    const [movie, setMovie] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchMovie = async () => {\r\n            const {movie, comments, trailer} = await (singleMovieData(movieId));\r\n            setMovie({...movie.data, ...trailer.data, comments: comments.data});\r\n        };\r\n        fetchMovie().then(() => setLoading(false));\r\n    }, [setMovie, movieId]);\r\n\r\n    return {\r\n        movie,\r\n        loading,\r\n        setMovie\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}