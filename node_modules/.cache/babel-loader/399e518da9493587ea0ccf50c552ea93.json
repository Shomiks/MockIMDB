{"ast":null,"code":"import { useContext, useEffect, useState } from \"react\";\nimport { __RouterContext as RouterContext } from \"react-router\";\nimport { singleMovieData } from \"../../Home page/Movies/useMoviesApi\";\nexport const useSingleMovie = () => {\n  const useRouter = () => useContext(RouterContext);\n\n  const {\n    match\n  } = useRouter();\n  const movieId = match.params.id;\n  const [movie, setMovie] = useState({});\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchMovie = async () => {\n      const {\n        movie,\n        comments,\n        trailer\n      } = await singleMovieData(movieId);\n      setMovie({ ...movie.data,\n        ...trailer.data,\n        comments: comments.data\n      });\n    };\n\n    fetchMovie().then(() => setLoading(false));\n  }, [setMovie, movieId]);\n  return {\n    movie,\n    loading,\n    setMovie\n  };\n};","map":{"version":3,"sources":["/Users/milosdjurkovic/MockIMDB/src/Component/Movie page/Single movie/useSingleMovie.js"],"names":["useContext","useEffect","useState","__RouterContext","RouterContext","singleMovieData","useSingleMovie","useRouter","match","movieId","params","id","movie","setMovie","loading","setLoading","fetchMovie","comments","trailer","data","then"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,SAArB,EAAgCC,QAAhC,QAAgD,OAAhD;AACA,SAASC,eAAe,IAAIC,aAA5B,QAAiD,cAAjD;AACA,SAASC,eAAT,QAAgC,qCAAhC;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAClC,QAAMC,SAAS,GAAG,MAAMP,UAAU,CAACI,aAAD,CAAlC;;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAYD,SAAS,EAA3B;AACA,QAAME,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAaC,EAA7B;AAEA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMe,UAAU,GAAG,YAAY;AAC7B,YAAM;AAAEJ,QAAAA,KAAF;AAASK,QAAAA,QAAT;AAAmBC,QAAAA;AAAnB,UAA+B,MAAMb,eAAe,CAACI,OAAD,CAA1D;AACAI,MAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAK,CAACO,IAAX;AAAiB,WAAGD,OAAO,CAACC,IAA5B;AAAkCF,QAAAA,QAAQ,EAAEA,QAAQ,CAACE;AAArD,OAAD,CAAR;AACD,KAHD;;AAIAH,IAAAA,UAAU,GAAGI,IAAb,CAAkB,MAAML,UAAU,CAAC,KAAD,CAAlC;AACD,GANQ,EAMN,CAACF,QAAD,EAAWJ,OAAX,CANM,CAAT;AAQA,SAAO;AACLG,IAAAA,KADK;AAELE,IAAAA,OAFK;AAGLD,IAAAA;AAHK,GAAP;AAKD,CArBM","sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { __RouterContext as RouterContext } from \"react-router\";\nimport { singleMovieData } from \"../../Home page/Movies/useMoviesApi\";\n\nexport const useSingleMovie = () => {\n  const useRouter = () => useContext(RouterContext);\n  const { match } = useRouter();\n  const movieId = match.params.id;\n\n  const [movie, setMovie] = useState({});\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      const { movie, comments, trailer } = await singleMovieData(movieId);\n      setMovie({ ...movie.data, ...trailer.data, comments: comments.data });\n    };\n    fetchMovie().then(() => setLoading(false));\n  }, [setMovie, movieId]);\n\n  return {\n    movie,\n    loading,\n    setMovie,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}